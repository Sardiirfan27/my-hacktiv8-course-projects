<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Create Your Own JavaScript App</title>
  </head>
  <body>
    <h1>Create Your Own JavaScript App</h1>
    <h4>Detail Tugas : <a href="https://github.com/hacktiv8/phase-0-activities/blob/master/modules/js-application.md">Create Your Own JavaScript App</a></h4>

    <h2>Geek To do list <b>CLI</b> (Command Line Interface)</h2>
    Untuk menggunakanya, lihat Developer Tool / CRTL + SHIFT + I
    <br>
    <script>

    function add (task, status) {
      var todos = get_todos();
      todos.push({
        taskName : task,
        status : status
      });
      localStorage.setItem('todo', JSON.stringify(todos));
      show();
    }

    function get_todos () {
      var todos = new Array;
      var todos_str = localStorage.getItem('todo');
      if (todos_str != null) {
        todos = JSON.parse(todos_str);
      }
      return todos;
    }

    function show() {
      var todos = get_todos();
      console.log(todos.length);
      console.log(todos);
      var results = '';
      // Task finished
      for(var i=0; i < todos.length; i++) {
        console.log('Finished task : ');
        if (todos[i].status === 'selesai') {
          console.log(i + ' - ' + todos[i].taskName);
        }
      };
      // Task list on progress
      for(var i=0; i < todos.length; i++) {
        console.log('Un-finished task : ');
        if (todos[i].status !== 'selesai') {
          console.log(i + ' - ' + todos[i].taskName);
        }
      };


    }
    //
    function remove(id) {
      var todos = get_todos();
      var deletedTodo = todos[id];
      todos.splice(id, 1);
      localStorage.setItem('todo', JSON.stringify(todos));

      show();

      return 'sukses menghapus ' + deletedTodo.taskName;
    }
    </script>
  </body>
</html>
